(this["webpackJsonpspeedgolf-react"]=this["webpackJsonpspeedgolf-react"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/favicon.c30df3aa.png"},19:function(e,t,a){e.exports=a(32)},27:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),o=a.n(r),l=(a(24),a(25),a(26),a(27),a(6)),c=a.n(l),i=a(7),u=a(1),m=a(2),d=a(4),p=a(3),h=a(5),f={LOGIN:"LoginMode",SURVEY_MANAGEMENT:"SurveyMode",SURVEY_MANAGEMENT_RESPONSES:"SurveyModeResponses",SURVEY_MANAGEMENT_CREATE:"SurveyModeCreate",SURVEY_MANAGEMENT_EDIT:"SurveyModeEdit",SURVEY_MANAGEMENT_CREATE_SURVEY:"SurveyModeCreateSurvey",SURVEY_MANAGEMENT_SEARCH:"SurveyModeSearch",SURVEY_MANAGEMENT_SEARCH_SURVEYS:"SurveyModeSurveysSearch",ROUNDS:"RoundsMode",ROUNDS_LOGROUND:"RoundsMode-LogRound",ROUNDS_EDITROUND:"RoundsMode-EditRound",COURSES:"CoursesMode",COURSE_CREATE:"AddCourses",COURSES_DELETE:"DeleteCourses",COURSES_EDIT:"EditCourses",STUDENTS:"StudentsMode",STUDENTS_UPLOAD:"UploadStudents",STUDENTS_CREATE:"AddStudents"};Object.freeze(f);var E=f,b=a(17),v=a.n(b),y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).getMenuBtnIcon=function(){return a.props.mode===E.ROUNDS_LOGROUND||a.props.mode===E.ROUNDS_EDITROUND?"fa fa-arrow-left":a.props.menuOpen?"fa fa-times":"fa fa-bars"},a.handleMenuBtnClick=function(){a.props.mode===E.ROUNDS_LOGROUND||a.props.mode===E.ROUNDS_EDITROUND?a.props.changeMode(E.ROUNDS):a.props.mode!=E.LOGIN&&a.props.toggleMenuOpen()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"navBarMenu",className:"navbar"},s.a.createElement("span",{className:"navbar-items"},s.a.createElement("button",{id:"menuBtn",className:"sidemenu-btn",onClick:this.handleMenuBtnClick},s.a.createElement("span",{id:"menuBtnIcon",className:"sidemenu-btn-icon "+this.getMenuBtnIcon()})),s.a.createElement("img",{src:v.a,alt:"Kliks Logo",height:"38px",width:"38px"}),s.a.createElement("span",{className:"navbar-title"},"\xa0",this.props.title)))}}]),t}(s.a.Component),g=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).setGeneralMode=function(e){return E.SURVEY_MANAGEMENT===e||E.SURVEY_MANAGEMENT_CREATE===e||E.SURVEY_MANAGEMENT_CREATE_SURVEY===e||E.SURVEY_MANAGEMENT_RESPONSES===e||E.SURVEY_MANAGEMENT_SEARCH===e||E.SURVEY_MANAGEMENT_SEARCH_SURVEYS===e?E.SURVEY_MANAGEMENT:e},a.renderModeMenuItems=function(){switch(a.setGeneralMode(a.props.mode)){case E.SURVEY_MANAGEMENT||E.SURVEY_MANAGEMENT_CREATE||E.SURVEY_MANAGEMENT_RESPONSES||E.SURVEY_MANAGEMENT_SEARCH||E.SURVEY_MANAGEMENT_CREATE_SURVEY||E.SURVEY_MANAGEMENT_SEARCH_SURVEYS:return s.a.createElement("div",null,s.a.createElement("a",{className:"sidemenu-item",id:"surveyManagement-MainPage",onClick:function(e){e.preventDefault(),a.props.changeMode(E.SURVEY_MANAGEMENT)}},s.a.createElement("span",{className:"fa fa-bolt"}),"\xa0Active Questions"),s.a.createElement("a",{className:"sidemenu-item ",id:"surveyManagement-search",onClick:function(e){e.preventDefault(),a.props.changeMode(E.SURVEY_MANAGEMENT_SEARCH)}},s.a.createElement("span",{className:"fa fa-search"}),"\xa0Search Questions"),s.a.createElement("a",{className:"sidemenu-item ",id:"surveyManagement-searchSurvey",onClick:function(e){e.preventDefault(),a.props.changeMode(E.SURVEY_MANAGEMENT_SEARCH_SURVEYS)}},s.a.createElement("span",{className:"fa fa-search"}),"\xa0Search Surveys"),s.a.createElement("a",{className:"sidemenu-item ",id:"surveyManagement-create",onClick:function(e){e.preventDefault(),a.props.changeMode(E.SURVEY_MANAGEMENT_CREATE)}},s.a.createElement("span",{className:"fa fa-plus"}),"\xa0Create Questions"),s.a.createElement("a",{className:"sidemenu-item ",id:"surveyManagement-createSurvey",onClick:function(e){e.preventDefault(),a.props.changeMode(E.SURVEY_MANAGEMENT_CREATE_SURVEY)}},s.a.createElement("span",{className:"fa fa-plus"}),"\xa0Create Survey"),s.a.createElement("a",{className:"sidemenu-item ",id:"surveyManagement-responses",onClick:function(e){e.preventDefault(),a.props.changeMode(E.SURVEY_MANAGEMENT_RESPONSES)}},s.a.createElement("span",{className:"fa fa-folder-open"}),"\xa0Responses"));case E.ROUNDS:return s.a.createElement("div",null,s.a.createElement("a",{className:"sidemenu-item"},s.a.createElement("span",{className:"fa fa-plus"}),"\xa0Log New Round"),s.a.createElement("a",{className:"sidemenu-item"},s.a.createElement("span",{className:"fa fa-search"}),"\xa0Search Rounds"));case E.COURSES:case E.COURSES_CREATE:return"Instructor"===a.props.userType?s.a.createElement("div",null,s.a.createElement("a",{className:"sidemenu-item",onClick:function(e){e.preventDefault(),a.props.changeMode(E.COURSES)}},s.a.createElement("span",{className:"fa fa-folder-open",id:"viewCoursesLink"}),"\xa0View Courses"),s.a.createElement("a",{className:"sidemenu-item",onClick:function(e){e.preventDefault(),a.props.changeMode(E.COURSES_CREATE)}},s.a.createElement("span",{className:"fa fa-plus",id:"addCourseLink"}),"\xa0Add a Course")):s.a.createElement("div",null,s.a.createElement("a",{className:"sidemenu-item",onClick:function(e){e.preventDefault(),a.props.changeMode(E.COURSES)}},s.a.createElement("span",{className:"fa fa-folder-open",id:"viewCoursesLink"}),"\xa0View Courses"));case E.STUDENTS:case E.STUDENTS_CREATE:case E.STUDENTS_UPLOAD:return"Instructor"===a.props.userType?s.a.createElement("div",null,s.a.createElement("a",{className:"sidemenu-item",onClick:function(e){e.preventDefault(),a.props.changeMode(E.COURSES)}},s.a.createElement("span",{className:"fa fa-folder-open",id:"viewCoursesLink"}),"\xa0View Courses"),s.a.createElement("a",{className:"sidemenu-item",onClick:function(e){e.preventDefault(),a.props.changeMode(E.STUDENTS_CREATE)}},s.a.createElement("span",{className:"fa fa-plus",id:"addStudentLink"}),"\xa0Add a Student"),s.a.createElement("a",{className:"sidemenu-item",onClick:function(e){e.preventDefault(),a.props.changeMode(E.STUDENTS_UPLOAD)}},s.a.createElement("span",{className:"fa fa-upload",id:"uploadStudentsLink"}),"\xa0Upload Students")):s.a.createElement("div",null,s.a.createElement("a",{className:"sidemenu-item",onClick:function(e){e.preventDefault(),a.props.changeMode(E.COURSES)}},s.a.createElement("span",{className:"fa fa-folder-open",id:"viewCoursesLink"}),"\xa0View Courses"));default:return null}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"sidemenu",className:"sidemenu "+(this.props.menuOpen?"sidemenu-open":"sidemenu-closed"),onClick:this.props.toggleMenuOpen},s.a.createElement("div",{className:"sidemenu-title"},s.a.createElement("img",{src:this.props.profilePicURL,height:"60",width:"60"}),s.a.createElement("span",{id:"userID",className:"sidemenu-userID"},"\xa0",this.props.displayName)),this.renderModeMenuItems(),this.props.localAccount?s.a.createElement("a",{id:"accountBtn",className:"sidemenu-item",onClick:this.props.editAccount},s.a.createElement("span",{className:"fa fa-user"}),"\xa0Account"):null,s.a.createElement("a",{id:"aboutBtn",className:"sidemenu-item",onClick:this.props.showAbout},s.a.createElement("span",{className:"fa fa-info-circle"}),"\xa0About"),s.a.createElement("a",{id:"logOutBtn",className:"sidemenu-item",onClick:this.props.logOut},s.a.createElement("span",{className:"fa fa-sign-out-alt"}),"\xa0Log Out"))}}]),t}(s.a.Component),N=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"modebar"+(this.props.mode===E.LOGIN?" invisible":this.props.menuOpen?" ignore-click visible":" visible")},s.a.createElement("a",{className:this.props.mode===E.SURVEY_MANAGEMENT?" item-selected":null,onClick:function(){return e.props.changeMode(E.SURVEY_MANAGEMENT)}},s.a.createElement("span",{className:"modebaricon fa fa-th-list"}),s.a.createElement("span",{className:"modebar-text"},"Survey Management")),s.a.createElement("a",{className:this.props.mode===E.ROUNDS||this.props.mode===E.ROUNDS_EDITROUND||this.props.mode===E.ROUNDS_LOGROUND?" item-selected":null,onClick:function(){return e.props.changeMode(E.ROUNDS)}},s.a.createElement("span",{className:"modebar-icon  fa fa-history"}),s.a.createElement("span",{className:"modebar-text"},"Dashboard")),s.a.createElement("a",{id:"CoursesMode",className:this.props.mode===E.COURSES?" item-selected":null,onClick:function(){return e.props.changeMode(E.COURSES)}},s.a.createElement("span",{className:"modebar-icon  fa fa-flag"}),s.a.createElement("span",{className:"modebar-text"},"Courses")))}}]),t}(s.a.Component),S=a(8),O=a(9),C=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).handleChange=function(){var t=e.emailRef.current.value===e.props.email;t!=e.state.emailMatches&&e.setState({emailMatches:t})},e.emailRef=s.a.createRef(),e.state={emailMatches:!1},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.emailRef.current.focus()}},{key:"render",value:function(){return s.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("center",null,s.a.createElement("h3",{className:"modal-title"},s.a.createElement("b",null,"Confirm Account Deletion"))),s.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.props.close},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Do you really want to delete your account? ",s.a.createElement("br",null),s.a.createElement("i",null,"This action cannot be undone.")),s.a.createElement("label",null,"Confirm Email (",this.props.email,"):",s.a.createElement("br",null),s.a.createElement("input",{className:"form-center",type:"text",ref:this.emailRef,onChange:this.handleChange})),s.a.createElement("br",null)),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-danger",onClick:this.props.deleteAccount,disabled:!this.state.emailMatches},"Yes, Delete My Account"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.props.close},"No, Cancel"))))}}]),t}(s.a.Component),R=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).checkDataValidity=function(){a.state.accountName.endsWith("@wsu.edu")?a.newUserRef.current.setCustomValidity(""):a.newUserRef.current.setCustomValidity("Email needs to be a wsu email: @wsu.edu"),a.state.password!=a.state.passwordRepeat?a.repeatPassRef.current.setCustomValidity("This password must match password entered in previous field."):a.repeatPassRef.current.setCustomValidity("")},a.handleChange=function(e){var t,n=null==a.origAccountInfo||a.formIsUpdated(e.target.name,e.target.value);if("profilePic"===e.target.name)if(0==e.target.value.length)a.setState({profilePicURL:"https://icon-library.net//images/default-profile-icon/default-profile-icon-24.jpg",formUpdated:n},a.checkDataValidity);else{var s=Object(O.a)(a),r=new FileReader;r.readAsDataURL(a.profilePicRef.current.files[0]),r.addEventListener("load",(function(){s.setState({profilePicURL:this.result,formUpdated:n},this.checkDataValidity)})),console.log(a.state.profilePicURL)}else a.setState((t={},Object(S.a)(t,e.target.name,e.target.value),Object(S.a)(t,"formUpdated",n),t),a.checkDataValidity)},a.formIsUpdated=function(e,t){return a.origAccountInfo[e]!=t||("displayName"!=e&&a.state.displayName!=a.origAccountInfo.displayName||("userType"!=e&&a.state.userType!=a.origAccountInfo.userType||("profilePicURL"!=e&&a.state.profilePicURL!=a.origAccountInfo.profilePicURL||("password"!=e&&a.state.password!==a.origAccountInfo.password||("passwordRepeat"!=e&&a.state.passwordRepeat!==a.origAccountInfo.passwordRepeat||("securityQuestion"!=e&&a.state.securityQuestion!==a.origAccountInfo.securityQuestion||"securityAnswer"!=e&&a.state.securityAnswer!==a.origAccountInfo.securityAnswer))))))},a.setDefaultuserType=function(e){a.setState({userType:e.target.value}),a.setState({displayName:e.target.value})},a.handleSubmit=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,s,r,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={displayName:a.state.displayName,userType:a.state.userType,password:a.state.password,profilePicURL:a.state.profilePicURL,securityQuestion:a.state.securityQuestion,securityAnswer:a.state.securityAnswer},s="/users/"+a.state.accountName,!a.props.create){e.next=17;break}return e.next=6,fetch(s,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 6:if(200!=(r=e.sent).status){e.next=11;break}a.props.done("New account created! Enter credentials to log in.",!1),e.next=15;break;case 11:return e.next=13,r.text();case 13:o=e.sent,a.props.done(o,!1);case 15:e.next=28;break;case 17:return e.next=19,fetch(s,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(n)});case 19:if(200!=(r=e.sent).status){e.next=24;break}a.props.done("User Account Updated!",!1),e.next=28;break;case 24:return e.next=26,r.text();case 26:l=e.sent,a.props.done(l,!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteAccount=Object(i.a)(c.a.mark((function e(){var t,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/users/"+a.state.accountName,e.next=3,fetch(t,{method:"DELETE"});case 3:if(200!=(n=e.sent).status){e.next=8;break}a.props.done("Account '"+a.state.accountName+"' has been deleted.",!0),e.next=12;break;case 8:return e.next=10,n.text();case 10:s=e.sent,a.props.done(s,!1);case 12:a.setState({confirmDelete:!1});case 13:case"end":return e.stop()}}),e)}))),a.confirmDeleteAccount=function(e){e.preventDefault(),a.setState({confirmDelete:!0})},a.origAccountInfo=null,a.newUserRef=s.a.createRef(),a.repeatPassRef=s.a.createRef(),a.profilePicRef=s.a.createRef(),a.state={accountName:"",displayName:"",userType:"",profilePicURL:"https://icon-library.net//images/default-profile-icon/default-profile-icon-24.jpg",password:"",passwordRepeat:"",securityQuestion:"",securityAnswer:"",formUpdated:!1,confirmDelete:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.create){e.next=12;break}return t="/users/"+this.props.userId,e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,s=JSON.parse(n),this.origAccountInfo=s,this.origAccountInfo.passwordRepeat=s.password,this.setState({accountName:this.props.userId,displayName:s.displayName,userType:s.userType,profilePicURL:s.profilePicURL,password:s.password,passwordRepeat:s.password,securityQuestion:s.securityQuestion,securityAnswer:s.securityAnswer});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"modal",role:"dialog"},s.a.createElement("div",{className:"modal-dialog modal-lg"}),s.a.createElement("div",{className:"modal-content form-center"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",null,s.a.createElement("b",null,this.props.create?"Create New Account":"Edit Account")),s.a.createElement("button",{className:"modal-close",onClick:this.props.cancel},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Email:",s.a.createElement("input",{autocomplete:"off",disabled:!this.props.create,className:"form-control form-text form-center",name:"accountName",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0,ref:this.newUserRef,value:this.state.accountName,onChange:this.handleChange,onBlur:this.setDefaultuserType})),s.a.createElement("br",null),s.a.createElement("label",null,"Password:",s.a.createElement("input",{autocomplete:"off",className:"form-control form-text form-center",name:"password",type:"password",size:"35",placeholder:"Enter Password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",required:!0,value:this.state.password,onChange:this.handleChange})),s.a.createElement("br",null),s.a.createElement("label",null,"Repeat Password:",s.a.createElement("input",{className:"form-control form-text form-center",name:"passwordRepeat",type:"password",size:"35",placeholder:"Repeat Password",required:!0,ref:this.repeatPassRef,value:this.state.passwordRepeat,onChange:this.handleChange})),s.a.createElement("br",null),s.a.createElement("label",null,"Display Name:",s.a.createElement("input",{className:"form-control form-text form-center",name:"displayName",type:"text",size:"30",placeholder:"Display Name",required:!0,value:this.state.displayName,onChange:this.handleChange})),s.a.createElement("br",null),s.a.createElement("label",null,"Account Type:",s.a.createElement("select",{name:"userType",value:this.state.userType,className:"form-control form-center",onChange:this.handleChange},s.a.createElement("option",{value:"SelectOne"},"Select One"),s.a.createElement("option",{value:"Student"},"Student"),s.a.createElement("option",{value:"Instructor"},"Instructor"))),s.a.createElement("br",null),s.a.createElement("label",null,"Profile Picture:",s.a.createElement("br",null),s.a.createElement("input",{className:"form-control form-text form-center",name:"profilePic",type:"file",accept:"image/x-png,image/gif,image/jpeg",ref:this.profilePicRef,value:this.state.profilePic,onChange:this.handleChange}),s.a.createElement("img",{src:""!=this.state.profilePicURL?this.state.profilePicURL:this.state.profilePicDataURL,height:"60",width:"60"})),s.a.createElement("br",null),s.a.createElement("label",null,"Security Question:",s.a.createElement("textarea",{className:"form-control form-text form-center",name:"securityQuestion",size:"35",placeholder:"Security Question",rows:"2",cols:"35",maxLength:"100",required:!0,value:this.state.securityQuestion,onChange:this.handleChange})),s.a.createElement("br",null),s.a.createElement("label",null,"Answer to Security Question:",s.a.createElement("textarea",{className:"form-control form-text form-center",name:"securityAnswer",type:"text",placeholder:"Answer",rows:"2",cols:"35",maxLength:"100",required:!0,value:this.state.securityAnswer,onChange:this.handleChange})),s.a.createElement("br",null),this.props.create?null:s.a.createElement("button",{className:"btn btn-small btn-danger",onClick:this.confirmDeleteAccount},"Delete Account..."),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{role:"submit",disabled:!this.state.formUpdated,className:"btn btn-primary btn-color-theme modal-submit-btn"},s.a.createElement("span",{className:this.props.create?"fa fa-user-plus":"fa fa-user"}),"\xa0",this.props.create?"Create Account":"Update Account")))),this.state.confirmDelete?s.a.createElement(C,{email:this.state.accountName,deleteAccount:this.deleteAccount,close:function(){return e.setState({confirmDelete:!1})}}):null)}}]),t}(s.a.Component),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.resetPasswordRef.current.value===e.resetPasswordRepeatRef.current.value?e.props.resetPassword(e.resetPasswordRef.current.value):(e.resetPasswordRepeatRef.current.focus(),e.setState({errorMsg:"The passwords you entered do not match. Please try again."}))},e.checkForSubmit=function(t){"Enter"===t.code&&(t.preventDefault(),e.handleSubmit())},e.resetPasswordRef=s.a.createRef(),e.resetPasswordRepeatRef=s.a.createRef(),e.state={errorMsg:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal",role:"dialog"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",{className:"col-12 modal-title text-center"},s.a.createElement("b",null,"Reset Password")),s.a.createElement("button",{className:"modal-close",onClick:this.props.cancelResetPassword},"\xd7")),s.a.createElement("div",{className:"modal-body"},""!=this.state.errorMsg?s.a.createElement("p",{className:"emphasis"},this.state.errorMsg):null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"New Password:",s.a.createElement("input",{type:"password",id:"NewPassword",placeholder:"Enter new password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",className:"form-control form-text",ref:this.resetPasswordRef})),s.a.createElement("p",null),s.a.createElement("label",null,"Repeat New Password:",s.a.createElement("input",{type:"password",id:"RepeatPassword",placeholder:"Repeat new password",className:"form-control form-text",onKeyUp:this.checkForSubmit,ref:this.resetPasswordRepeatRef})),s.a.createElement("p",null),s.a.createElement("button",{role:"submit",id:"PasswordButton",className:"btn btn-primary btn-color-theme form-submit-btn"},s.a.createElement("span",{className:"fa fa-key"}),"\xa0Reset Password"))))))}}]),t}(s.a.Component),D=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).handleLookUpAccount=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,fetch("/users/"+e.emailRef.current.value);case 3:if(200!=(n=t.sent).status){t.next=12;break}return t.next=7,n.json();case 7:s=t.sent,"local"===(r=JSON.parse(s)).authStrategy?e.props.getSecurityAnswer(r.id,r.securityQuestion,r.securityAnswer):e.setState({errorMsg:"That account is authenticated through "+r.authStrategy+". Please log in to "+r.authStrategy+" to reset the password."}),t.next=13;break;case 12:e.setState({errorMsg:"Sorry, there is no account associated with '"+e.emailRef.current.value+"'."});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.emailRef=s.a.createRef(),e.state={errorMsg:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this;return s.a.createElement("div",{className:"modal",role:"dialog"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",{className:"col-12 modal-title text-center"},s.a.createElement("b",null,"Look Up Account")),s.a.createElement("button",{className:"modal-close",onClick:function(){t.props.cancelResetPassword()}},"\xd7")),s.a.createElement("div",{className:"modal-body"},""!=this.state.errorMsg?s.a.createElement("p",{className:"emphasis"},this.state.errorMsg):null,s.a.createElement("form",{onSubmit:this.handleLookUpAccount},s.a.createElement("label",null,"Account Email Address:",s.a.createElement("input",(e={ref:this.emailRef,className:"form-control form-text",id:"AccountEmail",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}"},Object(S.a)(e,"ref",this.emailRef),Object(S.a)(e,"required",!0),e))),s.a.createElement("p",null),s.a.createElement("button",{type:"submit",id:"AccountButton",className:"btn btn-primary btn-color-theme form-submit-btn"},s.a.createElement("span",{className:"fa fa-search"}),"\xa0Look Up Account"))))))}}]),t}(s.a.Component),A=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.securityAnswerRef.current.value===e.props.answer?e.props.getNewPassword():(e.securityAnswerRef.current.focus(),e.setState({errorMsg:"Sorry, that is not the correct answer to the security question. Try again."}))},e.securityAnswerRef=s.a.createRef(),e.state={errorMsg:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.securityAnswerRef.current.focus()}},{key:"render",value:function(){return s.a.createElement("div",{className:"modal",role:"dialog"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",{className:"col-12 modal-title text-center"},s.a.createElement("b",null,"Answer Security Question")),s.a.createElement("button",{className:"modal-close",onClick:this.props.cancelResetPassword},"\xd7")),s.a.createElement("div",{className:"modal-body"},""!=this.state.errorMsg?s.a.createElement("p",{className:"emphasis"},this.state.errorMsg):null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Security Question:",s.a.createElement("textarea",{readOnly:!0,value:this.props.question,className:"form-control form-text",rows:"3",cols:"35"})),s.a.createElement("p",null),s.a.createElement("label",null,"Security Answer:",s.a.createElement("textarea",{className:"form-control form-text",id:"SecurityAnswer",placeholder:"Enter Security Question Answer",ref:this.securityAnswerRef,rows:"3",cols:"35"})),s.a.createElement("p",null),s.a.createElement("button",{role:"submit",id:"SecurityButton",className:"btn btn-primary btn-color-theme form-submit-btn"},s.a.createElement("span",{className:"fa fa-check"}),"\xa0Verify Answer"))))))}}]),t}(s.a.Component),T=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).handleLoginSubmit=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loginBtnIcon:"fa fa-spin fa-spinner",loginBtnLabel:"Logging In..."}),n="auth/login?username="+e.emailInputRef.current.value+"&password="+e.passwordInputRef.current.value,t.next=5,fetch(n,{method:"POST"});case 5:if(200!=(s=t.sent).status){t.next=10;break}window.open("/","_self"),t.next=14;break;case 10:return t.next=12,s.text();case 12:r=t.sent,e.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",statusMsg:r});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.accountCreateDone=function(t){e.setState({statusMsg:t,showCreateAccountDialog:!1})},e.cancelCreateAccount=function(){e.setState({showCreateAccountDialog:!1})},e.cancelResetPassword=function(){e.resetUserId="",e.resetQ="",e.resetA="",e.setState({showLookUpAccountDialog:!1,showSecurityQuestionDialog:!1,showResetPaswordDialog:!1})},e.handleOAuthLogin=function(e){window.open("/auth/".concat(e),"_self")},e.handleOAuthLoginClick=function(t){var a;e.setState((a={},Object(S.a)(a,t+"Icon","fa fa-spin fa-spinner"),Object(S.a)(a,t+"Label","Connecting..."),a)),setTimeout((function(){return e.handleOAuthLogin(t)}),1e3)},e.getSecurityAnswer=function(t,a,n){e.resetUserId=t,e.resetQ=a,e.resetA=n,e.setState({showLookUpAccountDialog:!1,showSecurityQuestionDialog:!0})},e.getNewPassword=function(){e.setState({showSecurityQuestionDialog:!1,showResetPaswordDialog:!0})},e.resetPassword=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/users/"+e.resetUserId,t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({password:a})});case 3:if(200!=(s=t.sent).status){t.next=8;break}e.setState({showResetPaswordDialog:!1,statusMsg:"Password successfully reset!"}),t.next=12;break;case 8:return t.next=10,s.text();case 10:r=t.sent,e.setState({showResetPasswordDialog:!1,statusMsg:r});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.accountCreateDone=function(t,a){e.setState({statusMsg:t,showCreateAccountDialog:!1})},e.closeStatusMsg=function(){e.setState({statusMsg:""})},e.cancelCreateAccount=function(){e.setState({showCreateAccountDialog:!1})},e.emailInputRef=s.a.createRef(),e.resetUserId="",e.resetQ="",e.resetA="",e.passwordInputRef=s.a.createRef(),e.state={statusMsg:"",loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",showLookUpAccountDialog:!1,showSecurityQuestionDialog:!1,showResetPaswordDialog:!1,githubIcon:"fa fa-github",githubLabel:"Sign in with GitHub",loginMsg:"",newAccountCreated:!1},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.emailInputRef.current.focus()}},{key:"render",value:function(){var e,t=this;return s.a.createElement("div",{id:"LoginMode"},s.a.createElement("center",null,""!=this.state.statusMsg?s.a.createElement("div",{className:"status-msg"},s.a.createElement("span",null,this.state.statusMsg),s.a.createElement("button",{className:"modal-close",onClick:this.closeStatusMsg},s.a.createElement("span",{className:"fa fa-times"}))):null,this.state.showLookUpAccountDialog?s.a.createElement(D,{cancelResetPassword:this.cancelResetPassword,getSecurityAnswer:this.getSecurityAnswer}):null,this.state.showSecurityQuestionDialog?s.a.createElement(A,{cancelResetPassword:this.cancelResetPassword,question:this.resetQ,answer:this.resetA,getNewPassword:this.getNewPassword}):null,this.state.showResetPaswordDialog?s.a.createElement(w,{cancelResetPassword:this.cancelResetPassword,resetPassword:this.resetPassword}):null,s.a.createElement("form",{id:"loginInterface",onSubmit:this.handleLoginSubmit},s.a.createElement("label",{htmlFor:"emailInput",style:{padding:0,fontSize:24}},"Email:",s.a.createElement("input",{ref:this.emailInputRef,className:"form-control login-text",type:"email",placeholder:"Enter Email Address",id:"emailInput",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0})),s.a.createElement("p",null),s.a.createElement("label",{htmlFor:"passwordInput",style:{padding:0,fontSize:24}},"Password:",s.a.createElement("input",{ref:this.passwordInputRef,id:"passwordInput",className:"form-control login-text",type:"password",placeholder:"Enter Password",pattern:"[A-Za-z0-9!@#$%^&*()_+\\-]+",required:!0})),s.a.createElement("p",{className:"bg-danger",id:"feedback",style:{fontSize:16}}),s.a.createElement("button",{id:"loginButton",type:"submit",className:"btn-color-theme btn btn-primary btn-block login-btn"},s.a.createElement("span",{id:"login-btn-icon",className:this.state.loginBtnIcon}),"\xa0",this.state.loginBtnLabel),s.a.createElement("p",null,s.a.createElement("button",{type:"button",className:"btn btn-link login-link",onClick:function(){t.setState({showCreateAccountDialog:!0})}},"Create an account")," |",s.a.createElement("button",(e={id:"ResetPassword",type:"button"},Object(S.a)(e,"id","ResetPassword"),Object(S.a)(e,"className","btn btn-link login-link"),Object(S.a)(e,"onClick",(function(){t.setState({showLookUpAccountDialog:!0})})),e),"Reset your password")),s.a.createElement("p",null,s.a.createElement("i",null,"Version CptS 489"))),this.state.showCreateAccountDialog?s.a.createElement(R,{create:!0,done:this.accountCreateDone,cancel:this.cancelCreateAccount}):null,this.state.showResetPasswordDialog?s.a.createElement(w,null):null))}}]),t}(s.a.Component),M=a(10),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onFileChange=function(e){if(0==e.target.value.length)a.props.setAnswer([a.result]),a.setState({file:""});else{var t=Object(O.a)(a),n=new FileReader;n.readAsDataURL(a.fileRef.current.files[0]),n.addEventListener("load",(function(){t.props.setAnswer([this.result]),t.setState({file:this.result})}))}a.props.setAcceptableAnswerTypes(a.state.selectedOptions),a.state={selectedOptions:[]}},a.handleChange=function(e){var t=e.target.value,n=a.state.selectedOptions;console.log(n),console.log(t),-1===n.indexOf(t)?n.push(t):1===n.length?n=[]:n.splice(n.indexOf(t),1),a.setState({selectedOptions:n},(function(){console.log("String representation:"),console.log(a.state.selectedOptions.toString()),console.log(a.state.selectedOptions)}))},a.fileRef=s.a.createRef(),a.state={file:"",selectedOptions:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("p",null),s.a.createElement("label",null,"Acceptable File Types:",s.a.createElement("select",{name:"answerType",multiple:!0,value:this.state.selectedOptions,onChange:this.handleChange,id:"createQuestion-file-fileTypes",className:"form-control form-center"},s.a.createElement("option",{value:".pdf"},"pdf"),s.a.createElement("option",{value:".docx"},"docx"),s.a.createElement("option",{value:".jpg"},"jpg"),s.a.createElement("option",{value:".jpeg"},"jpeg"),s.a.createElement("option",{value:".png"},"png"),s.a.createElement("option",{value:".doc"},"doc"))),s.a.createElement("p",null),s.a.createElement("label",null,"File:",s.a.createElement("input",{name:"file",className:"form-control form-center",id:"createQuestion-file-upload",onChange:this.onFileChange,ref:this.fileRef,value:this.state.fileObj,type:"file",accept:this.state.selectedOptions.toString()})),s.a.createElement("p",null)))}}]),t}(s.a.Component),I=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onResponseChange=function(e){a.props.setAnswer([e.target.value]),a.setState({answer:e.target.value})},a.state={answer:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("label",null,"Answer:",s.a.createElement("textarea",{name:"answer",className:"form-control",rows:"6",cols:"75",id:"createQuestion-freeResponse",placeholder:"Enter answer here",value:this.state.answer,onChange:this.onResponseChange})),s.a.createElement("p",null)))}}]),t}(s.a.Component),U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onAddAnswer=function(e){e.preventDefault();var t=a.state.answers;t.push({placeholder:t.length,name:t.length,value:"",id:t.length}),a.setState({answers:t});var n=t.map((function(e){return e.value}));a.props.setAnswer(n)},a.onRemoveAnswer=function(e){e.preventDefault();var t=a.state.answers;if(t.length>0){t.pop(),a.setState({answers:t});var n=t.map((function(e){return e.value}));a.props.setAnswer(n)}else a.props.setAnswer([""])},a.getAnswers=function(){for(var e=[],t=0;t<a.state.answers.length;t++)e.push(s.a.createElement("input",{id:t+"-mcOption",placeholder:"Input answer...",onChange:a.onAnswerTextChange,value:a.state.answers[t].value,name:a.state.answers[t].name,"aria-label":"Username","aria-describedby":"basic-addon1",className:"form-control"}));return e},a.onAnswerTextChange=function(e){var t=a.state.answers;t[Number(e.target.name)].value=e.target.value;var n=t.map((function(e){return e.value}));a.props.setAnswer(n),a.setState({answers:t})},a.state={answers:[{placeholder:"",name:0,value:"",id:0}]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{className:"mb-3 input-group",style:{width:"20%"}},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Answer choice")),s.a.createElement("div",{id:"multiple-choice-option-answers"},this.getAnswers())),s.a.createElement("p",null),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-md-3",style:{width:"40%"}},s.a.createElement("button",{type:"button",style:{fontSize:"28px"},id:"createQuestion-mc-addAnswerBtn",onClick:this.onAddAnswer,className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-plus"}),"\xa0Add Answer")),s.a.createElement("div",{className:"col-md-3",style:{width:"40%"}},s.a.createElement("button",{type:"button",style:{fontSize:"28px"},id:"createQuestion-mc-removeAnswerBtn",onClick:this.onRemoveAnswer,className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-plus"}),"\xa0Remove Answer"))),s.a.createElement("p",null)))}}]),t}(s.a.Component),k=a(11),x={};x.multipleChoice=U,x.shortAnswer=I,x.fileUpload=j;var _=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;a.setState(Object(S.a)({},t,e.target.value),a.checkDataValidity)},a.handleSubmit=function(e){e.preventDefault();var t={questionID:Object(k.v4)(),questionTitle:a.state.title,questionText:a.state.question,questionType:a.state.answerType,questionAnswers:a.state.answers,acceptableAnswerTypes:a.state.acceptableAnswerTypes,questionActive:a.state.active,responses:[]};setTimeout(a.props.saveQuestion,100,a.state.surveyID,t),a.props.changeMode(E.SURVEY_MANAGEMENT_SEARCH)},a.onAddSurvey=function(e){e.preventDefault(),a.props.changeMode(E.SURVEY_MANAGEMENT_CREATE_SURVEY)},a.setAcceptableAnswerTypes=function(e){a.setState({acceptableAnswerTypes:e})},a.getSurveys=function(){for(var e=[],t=0;t<a.props.surveys.length;t++)e.push(s.a.createElement("option",{name:a.props.surveys[t].surveyID,key:a.props.surveys[t].surveyID,id:a.props.surveys[t].surveyID,value:a.props.surveys[t].surveyID},a.props.surveys[t].surveyTitle));return e},a.setAnswer=function(e){a.setState({answers:e})},a.switchHandler=function(){a.setState({active:!a.state.active})},a.handleDropdownChange=function(e){var t,n=e.target.name;a.setState((t={},Object(S.a)(t,n,e.target.value),Object(S.a)(t,"surveyID",e.target.value),t),a.checkDataValidity)},a.checkDataValidity=function(){""==a.state.dropdownOfSurveys?a.surveySelectionRef.current.setCustomValidity("No Survey selected."):a.surveySelectionRef.current.setCustomValidity(""),0==a.state.question.length?a.questionTextRef.current.setCustomValidity("Question does not have a any text."):a.questionTextRef.current.setCustomValidity(""),0==a.state.title.length?a.questionTitleRef.current.setCustomValidity("Question does not have a title."):a.questionTitleRef.current.setCustomValidity("");var e=new Date(Date.now()-6e4*(new Date).getTimezoneOffset());a.state.date<e.toISOString().substr(0,10)?a.dateRef.current.setCustomValidity("Cannot create a question for the past."):a.dateRef.current.setCustomValidity("")};var n=new Date(Date.now()-6e4*(new Date).getTimezoneOffset());return a.questionTextRef=s.a.createRef(),a.questionTitleRef=s.a.createRef(),a.surveySelectionRef=s.a.createRef(),a.dateRef=s.a.createRef(),a.props.mode==E.SURVEY_MANAGEMENT_CREATE?(a.state={dropdownOfSurveys:a.props.surveys.length>0?a.props.surveys[0].surveyID:"",numberOfSurveys:a.props.surveys.length,date:n.toISOString().substr(0,10),answerType:"shortAnswer",question:"",title:"",answers:[],active:!1,acceptableAnswerTypes:[],surveyID:a.props.surveys.length>0?a.props.surveys[0].surveyID:""},a.state.submitIcon="fa fa-save",a.state.submitLabel="Save Question"):(a.state=a.props.startData,a.state.submitIcon="fa fa-edit",a.state.submitLabel="Update Question"),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=x[this.state.answerType];return s.a.createElement("form",{className:"padded-page",id:"createQuestionMode",onSubmit:this.handleSubmit},0==this.props.surveys.length?s.a.createElement("center",null,s.a.createElement("p",null),s.a.createElement("p",null,"There are no surveys, please create surveys in order to create questions "),s.a.createElement("p",null),s.a.createElement("button",{type:"button",style:{width:"50%",fontSize:"36px"},id:"createQuestion-createSurveyBtn",onClick:this.onAddSurvey,className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-plus"}),"\xa0 Add a survey")):s.a.createElement("center",null,s.a.createElement("label",{style:{fontSize:"20px"}},"Question Title:",s.a.createElement("input",{name:"title",id:"createQuestion-title",className:"form-control form-center",value:this.state.title,onChange:this.handleChange,ref:this.questionTitleRef,minLength:1,type:"text"})),s.a.createElement("p",null),s.a.createElement("label",{style:{fontSize:"20px"}},"Question:",s.a.createElement("textarea",{name:"question",className:"form-control",rows:"6",cols:"75",placeholder:"Enter Question here",id:"createQuestion-question",value:this.state.question,ref:this.questionTextRef,minLength:1,onChange:this.handleChange})),s.a.createElement("p",null),s.a.createElement("label",{style:{fontSize:"20px"}},"Date:",s.a.createElement("input",{name:"date",className:"form-control form-center",type:"date",id:"createQuestion-date",value:this.state.date,onChange:this.handleChange,ref:this.dateRef})),s.a.createElement("p",null),s.a.createElement("label",{style:{fontSize:"20px"}},"Survey:",s.a.createElement("select",{name:"dropdownOfSurveys",id:"dropdownOfSurveys",value:this.state.dropdownOfSurveys,onChange:this.handleDropdownChange,onBlur:this.handleDropdownChange,className:"form-control form-center",ref:this.surveySelectionRef,required:!0},this.getSurveys())),s.a.createElement("p",null),s.a.createElement("label",{style:{fontSize:"20px"}},"Activate Question after Creation:",s.a.createElement("p",null),s.a.createElement("label",{className:"switch"},s.a.createElement("input",{type:"checkbox",id:"createQuestion-togBtn",onClick:this.switchHandler}),s.a.createElement("div",{className:"slider round"},s.a.createElement("span",{className:"on",style:{textAlign:"left"}},"YES"),s.a.createElement("span",{className:"off",style:{textAlign:"right"}},"NO")))),s.a.createElement("p",null),s.a.createElement("label",{style:{fontSize:"20px"}},"Answer Type:",s.a.createElement("select",{name:"answerType",id:"createQuestion-answerTypeDropdown",value:this.state.answerType,onChange:this.handleChange,className:"form-control form-center"},s.a.createElement("option",{value:"shortAnswer"},"Short Answer"),s.a.createElement("option",{value:"multipleChoice"},"Multiple Choice"),s.a.createElement("option",{value:"fileUpload"},"File Upload"))),s.a.createElement("p",null),s.a.createElement(e,{setAnswer:this.setAnswer,setAcceptableAnswerTypes:this.setAcceptableAnswerTypes}),s.a.createElement("p",null),s.a.createElement("button",{id:"createQuestion-createQuestionBtn",type:"submit",style:{width:"70%",fontSize:"36px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:this.state.submitIcon}),"\xa0 ",this.state.submitLabel)))}}]),t}(s.a.Component),L={};L.multipleChoice=U,L.shortAnswer=I,L.fileUpload=j;var q=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;a.setState(Object(S.a)({},t,e.target.value),a.checkDataValidity)},a.handleSubmit=function(e){if(e.preventDefault(),0==a.state.dropdownOfCourses.length);else{var t={surveyTitle:a.state.surveyTitle,surveyDate:a.state.date,courseID:a.state.courseID};setTimeout(a.props.saveSurvey,1e3,Object(k.v4)(),t),a.props.changeMode(E.SURVEY_MANAGEMENT_SEARCH_SURVEYS)}},a.getCourses=function(){for(var e=[],t=0;t<a.props.userObj.courses.length;t++){var n=a.props.userObj.courses[t].courseSemester+"-"+a.props.userObj.courses[t].courseYear+": "+a.props.userObj.courses[t].courseName+"  "+a.props.userObj.courses[t].courseNumber;e.push(s.a.createElement("option",{id:a.props.userObj.courses[t].courseID,value:a.props.userObj.courses[t].courseID},n))}return e},a.handleDropdownChange=function(e){var t,n=e.target.name;a.setState((t={},Object(S.a)(t,n,e.target.value),Object(S.a)(t,"courseID",e.target.value),t),a.checkDataValidity)},a.checkDataValidity=function(){0==a.state.surveyTitle.length?a.surveyTitleRef.current.setCustomValidity("Survey title missing."):a.surveyTitleRef.current.setCustomValidity(""),""==a.state.dropdownOfCourses?a.courseSelectionRef.current.setCustomValidity("Course is missing for the survey."):a.courseSelectionRef.current.setCustomValidity("");var e=new Date(Date.now()-6e4*(new Date).getTimezoneOffset());a.state.date<e.toISOString().substr(0,10)?a.surveyDateRef.current.setCustomValidity("Cannot create a survey for day in the past."):a.surveyDateRef.current.setCustomValidity("")},a.courseSelectionRef=s.a.createRef(),a.surveyTitleRef=s.a.createRef(),a.surveyDateRef=s.a.createRef();var n=new Date(Date.now()-6e4*(new Date).getTimezoneOffset());return a.state={answerType:"shortAnswer",question:"",addSurvey:!1,surveyTitle:"",date:n.toISOString().substr(0,10),dropdownOfCourses:a.props.userObj.courses.length>0?a.props.userObj.courses[0].courseSemester+"-"+a.props.userObj.courses[0].courseYear+": "+a.props.userObj.courses[0].courseName+"  "+a.props.userObj.courses[0].courseNumber:"",courseID:a.props.userObj.courses.length>0?a.props.userObj.courses[0].courseID:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{className:"padded-page",id:"createSurvey-page",onSubmit:this.handleSubmit},s.a.createElement("center",null,s.a.createElement("label",null,"Survey Title:",s.a.createElement("input",{name:"surveyTitle",id:"createSurvey-title",className:"form-control form-center",value:this.state.surveyTitle,onChange:this.handleChange,minLength:1,ref:this.surveyTitleRef,type:"text"})),s.a.createElement("p",null),s.a.createElement("label",null,"Date:",s.a.createElement("input",{name:"date",id:"createSurvey-date",className:"form-control form-center",type:"date",value:this.state.date,onChange:this.handleChange,ref:this.surveyDateRef})),s.a.createElement("p",null),s.a.createElement("p",null),s.a.createElement("label",null,"Course:",s.a.createElement("select",{name:"dropdownOfCourses",value:this.state.dropdownOfCourses,onChange:this.handleDropdownChange,onBlur:this.handleDropdownChange,id:this.state.courseID,defaultValue:this.state.dropdownOfCourses,required:!0,ref:this.courseSelectionRef,className:"form-control form-center"},this.getCourses())),s.a.createElement("p",null),s.a.createElement("button",{type:"submit",id:"createSurvey-creatBtn",style:{width:"50%",fontSize:"36px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-plus"}),"\xa0 Create survey")))}}]),t}(s.a.Component),V=function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{id:"activeQuestionPage",className:"padded-page"},s.a.createElement("center",null,s.a.createElement("div",{class:"wrapper"},s.a.createElement("div",{className:"card survey-card"},s.a.createElement("button",{type:"submit",style:{width:"100%",fontSize:"17px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-pencil"}),"\xa0 Edit"),s.a.createElement("div",{className:"card-header"},"Question 1"),s.a.createElement("div",{className:"card-body"},"Question Type  ",s.a.createElement("br",null),"  Content:"),s.a.createElement("div",{className:"card-footer"},"Course Number  Section")),s.a.createElement("div",{className:"card survey-card"},s.a.createElement("button",{type:"submit",style:{width:"100%",fontSize:"17px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-pencil"}),"\xa0 Edit"),s.a.createElement("div",{className:"card-header"},"Question 2"),s.a.createElement("div",{className:"card-body"},"Question Type  ",s.a.createElement("br",null),"  Content:"),s.a.createElement("div",{className:"card-footer"},"Course Number  Section")),s.a.createElement("div",{className:"card survey-card"},s.a.createElement("button",{type:"submit",style:{width:"100%",fontSize:"17px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-pencil"}),"\xa0 Edit"),s.a.createElement("div",{className:"card-header"},"Question 3"),s.a.createElement("div",{className:"card-body"},"Question Type  ",s.a.createElement("br",null),"  Content:"),s.a.createElement("div",{className:"card-footer"},"Course Number  Section")),s.a.createElement("div",{className:"card survey-card"},s.a.createElement("button",{type:"submit",style:{width:"100%",fontSize:"17px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-pencil"}),"\xa0 Edit"),s.a.createElement("div",{className:"card-header"},"Question 4"),s.a.createElement("div",{className:"card-body"},"Question Type  ",s.a.createElement("br",null),"  Content:"),s.a.createElement("div",{className:"card-footer"},"Course Number  Section")),s.a.createElement("div",{className:"card survey-card"},s.a.createElement("button",{type:"submit",style:{width:"100%",fontSize:"17px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-pencil"}),"\xa0 Edit"),s.a.createElement("div",{className:"card-header"},"Question 5"),s.a.createElement("div",{className:"card-body"},"Question Type  ",s.a.createElement("br",null),"  Content:"),s.a.createElement("div",{className:"card-footer"},"Course Number  Section")),s.a.createElement("div",{className:"card survey-card"},s.a.createElement("button",{type:"submit",style:{width:"100%",fontSize:"17px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-pencil"}),"\xa0 Edit"),s.a.createElement("div",{className:"card-header"},"Question 6"),s.a.createElement("div",{className:"card-body"},"Question Type  ",s.a.createElement("br",null),"  Content:"),s.a.createElement("div",{className:"card-footer"},"Course Number  Section")),s.a.createElement("div",{className:"card survey-card"},s.a.createElement("button",{type:"submit",style:{width:"100%",fontSize:"17px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:"fa fa-pencil"}),"\xa0 Edit"),s.a.createElement("div",{className:"card-header"},"Question 7"),s.a.createElement("div",{className:"card-body"},"Question Type  ",s.a.createElement("br",null),"  Content:"),s.a.createElement("div",{className:"card-footer"},"Course Number  Section")))))}}]),t}(s.a.Component),Q=(a(13),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).deleteResponse=function(e){e.preventDefault(),a.props.deleteResponse({responseId:a.props.responseItem.response.responseId,questionID:a.props.responseItem.question.questionID,courseID:a.props.responseItem.survey.courseID,surveyID:a.props.responseItem.survey.surveyID}),a.props.closeDeleteResponseModal()},a.closeModal=function(e){e.preventDefault(),a.props.closeDeleteResponseModal()},a.state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"deleteResponseModal",className:"modal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Delete Response"),s.a.createElement("button",{type:"button",className:"close",id:"deleteResponseModal-closeBtn",onClick:this.closeModal,"data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},"Are you sure you want to delete this response?"),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-primary",id:"deleteResponseModal-cancelBtn",onClick:this.closeModal,"data-dismiss":"modal"},"Close"),s.a.createElement("button",{type:"button",onClick:this.deleteResponse,id:"deleteResponseModal-deleteBtn",className:"btn btn-danger"},"Delete")))))}}]),t}(s.a.Component)),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleAnswers=function(){if(1==a.props.responseItem.question.questionAnswers.length)return"FileUpload"==a.props.responseItem.question.questionType||"F"==a.props.responseItem.question.questionType?s.a.createElement("iframe",{id:"viewResponse-answer-file",src:a.props.responseItem.question.questionAnswers[0]}," "):s.a.createElement("div",{id:"viewResponse-answer-freeResponse"},a.props.responseItem.question.questionAnswers[0]);var e=a.props.responseItem.question.questionAnswers,t=[];return e.forEach((function(e){t.push(s.a.createElement("div",null,e))})),s.a.createElement("div",{id:"viewResponse-answer-multipleChoice"},t)},a.state={questions:[],allResponses:[],showConfirmDelete:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"viewResponseModal",className:"modal",itemID:"exampleModalLong",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},this.props.responseItem.survey.surveyTitle),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",id:"viewResponseModal-exitBtn",onClick:function(){e.props.closeResponse()},"aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"recipient-name",style:{fontSize:"22pt"},class:"col-form-label"},"Question:"),s.a.createElement("div",{class:"form-control",id:"viewResponse-question"},this.props.responseItem.question.questionText)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"recipient-name",style:{fontSize:"22pt"},class:"col-form-label"},"Response:"),s.a.createElement("div",{class:"form-control",id:"viewResponse-response"},this.props.responseItem.response.surveyResponse))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"recipient-name",style:{fontSize:"22pt"},class:"col-form-label"},"Answer(s):"),s.a.createElement("div",{class:"form-control",id:"viewResponse-answer"},this.handleAnswers()))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{id:"viewResponseModal-closeBtn",type:"button",className:"btn btn-secondary",onClick:function(){e.props.closeResponse()},"data-dismiss":"modal"},"Close")))))}}]),t}(s.a.Component),G=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderResponseTable=function(e){var t=[];console.log("renderResponseTable"),console.log(e);var n=0;return e.forEach((function(e){console.log("index"),t.push(s.a.createElement("tr",{key:e.surveyID+"-"+e.question.questionID+"-"+e.responseId+"-"+n},s.a.createElement("td",null,e.responseType),s.a.createElement("td",null,e.question.questionText),s.a.createElement("td",null,e.response.responseDateTime),s.a.createElement("td",null,e.response.surveyResponse),s.a.createElement("td",null,s.a.createElement("button",{id:e.surveyID+"-"+e.question.questionID+"-"+e.response.responseId+"-"+n+"-view",onClick:a.props.menuOpen?null:function(){return a.viewResponse(e.surveyID+"-"+e.question.questionID+"-"+e.response.responseId+"-"+n)}},s.a.createElement("span",{className:"fa fa-eye"}))),s.a.createElement("td",null,s.a.createElement("button",{id:e.surveyID+"-"+e.question.questionID+"-"+e.response.responseId+"-"+n+"-delete",onClick:a.props.menuOpen?null:function(){return a.confirmDeleteResponse(e.surveyID+"-"+e.question.questionID+"-"+e.response.responseId+"-"+n)}},s.a.createElement("span",{className:"fa fa-trash"}))))),n++})),t},a.viewResponse=function(e){console.log("viewResponse: rowId"),console.log(e);var t=a.parseResponseRowId(e),n=a.state.responses.find((function(e){return e.surveyID==t[0]&&e.questionID==t[1]&&e.response.responseId==t[2]}));console.log("viewResponse: responseObject"),console.log(n),a.setState({showResponseModal:!0,editRowId:e,responseItem:n}),console.log("Viewing a response")},a.parseResponseRowId=function(e){return e.split("-")},a.confirmDeleteResponse=function(e){console.log("confirmDeleteResponse: rowId"),console.log(e);var t=a.parseResponseRowId(e),n=a.state.responses.find((function(e){return e.surveyID==t[0]&&e.questionID==t[1]&&e.response.responseId==t[2]}));console.log("confirmDeleteResponse: responseObject"),console.log(n),a.setState({showDeleteResponseModal:!0,editRowId:e,responseItem:n}),console.log("Deleting a response")},a.deleteResponse=function(e){a.removeResponse(e)},a.removeResponse=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/responses/",e.next=3,fetch("/responses/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.text();case 6:if(s=e.sent,200!=n.status){e.next=12;break}return a.props.getQuestions(),e.abrupt("return",1);case 12:return console.log(n),console.log(s),console.log("deleteResponse: ERROR"),e.abrupt("return",0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.searchResponseTable=function(e){13===e.keyCode&&(e.preventDefault(),a.state.searchKey.length>0?a.onSearch(a.state.searchKey):a.setState({responses:a.props.responses}))},a.onSearch=function(e){var t=a.props.responses,n=[];t.forEach((function(t){var a="";a+=t.responseType,a+=t.question.questionText+" ",a+=t.response.responseDateTime+" ",(a+=t.response.surveyResponse+" ").toUpperCase().indexOf(e.toUpperCase())>-1&&n.push(t)})),a.setState({responses:n})},a.sortTable=function(e){return a.state.responses.sort(e)},a.onSearchKeyChange=function(e){a.setState({searchKey:e.target.value})},a.sortByDate=function(e){e.preventDefault();var t=a.sortTable((function(e,t){if(null==e||null==t){if(null==e)return a.state.sortDateInOrder?-1:1;if(null==t)return a.state.sortDateInOrder?1:-1}return e.response.responseDateTime<t.response.responseDateTime?a.state.sortDateInOrder?-1:1:e.response.responseDateTime>t.response.responseDateTime?a.state.sortDateInOrder?1:-1:0}));a.setState({responses:t,sortDateInOrder:!a.state.sortDateInOrder})},a.sortByQuestion=function(e){e.preventDefault();var t=a.sortTable((function(e,t){if(null==e||null==t){if(null==e)return a.state.sortQuestionInOrder?-1:1;if(null==t)return a.state.sortQuestionInOrder?1:-1}return e.question.questionText<t.question.questionText?a.state.sortQuestionInOrder?-1:1:e.question.questionText>t.question.questionText?a.state.sortQuestionInOrder?1:-1:0}));a.setState({responses:t,sortQuestionInOrder:!a.state.sortQuestionInOrder})},a.sortByResponseType=function(e){e.preventDefault();var t=a.sortTable((function(e,t){if(null==e||null==t){if(null==e)return a.state.sortResponseTypeInOrder?-1:1;if(null==t)return a.state.sortResponseTypeInOrder?1:-1}return e.responseType<t.responseType?a.state.sortResponseTypeInOrder?-1:1:e.responseType>t.responseType?a.state.sortResponseTypeInOrder?1:-1:0}));a.setState({responses:t,sortResponseTypeInOrder:!a.state.sortResponseTypeInOrder})},a.sortByResponse=function(e){e.preventDefault();var t=a.sortTable((function(e,t){if(null==e||null==t){if(null==e)return a.state.sortResponseInOrder?-1:1;if(null==t)return a.state.sortResponseInOrder?1:-1}return e.response.surveyResponse<t.response.surveyResponse?a.state.sortResponseInOrder?-1:1:e.response.surveyResponse>t.response.surveyResponse?a.state.sortResponseInOrder?1:-1:0}));a.setState({responses:t,sortResponseInOrder:!a.state.sortResponseInOrder})},a.state={questions:a.props.questions,responses:a.props.responses,showResponseModal:!1,showConfirmDelete:!1,editRowId:"",responseItem:{},searchKey:"",showDeleteResponseModal:!1,sortResponseInOrder:!1,sortDateInOrder:!1,sortQuestionInOrder:!1,sortResponseTypeInOrder:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"responseTableMode",className:"padded-page"},s.a.createElement("h1",null),s.a.createElement("div",{className:"input-group center-search",style:{justifyContent:"center",paddingBottom:"20px"}},s.a.createElement("span",{className:"input-group-prepend"},s.a.createElement("div",{className:"input-group-text bg-transparent border-right-0"},s.a.createElement("i",{className:"fa fa-search"}))),s.a.createElement("input",{className:"form-control py-2 border-left-0 border",placeholder:"Search responses",type:"search",value:this.state.searchKey,id:"searchResponses",onKeyUp:this.searchResponseTable,onChange:this.onSearchKeyChange})),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("span",{id:"responseSortQuestionType",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortByResponseType}),"\xa0Response type "),s.a.createElement("th",null,s.a.createElement("span",{id:"responseSortQuestion",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortByQuestion}),"\xa0Question"),s.a.createElement("th",null,s.a.createElement("span",{id:"responseSortDate",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortByDate}),"\xa0Response Date-Time"),s.a.createElement("th",null,s.a.createElement("span",{id:"responseSortResponse",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortByResponse}),"\xa0Response"),s.a.createElement("th",null,"View"),s.a.createElement("th",null,"Delete"))),s.a.createElement("tbody",{id:"responseTableBody"},0===Object.keys(this.props.responses).length?s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"No responses made")):this.renderResponseTable(this.state.responses))),this.state.showResponseModal?s.a.createElement(P,{closeResponse:function(){e.props.getQuestions(),e.setState({showResponseModal:!1})},responseItem:this.state.responseItem}):null,this.state.showDeleteResponseModal?s.a.createElement(Q,{closeDeleteResponseModal:function(){e.props.getQuestions(),e.setState({showDeleteResponseModal:!1})},responseItem:this.state.responseItem,deleteResponse:this.deleteResponse}):null)}}]),t}(s.a.Component),Y=a(18),B=a.n(Y),z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSearchClicked=function(){console.log("onSearchClicked")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"padded-page",id:"searchQuestionsMode"},s.a.createElement("center",null,s.a.createElement("h1",null),s.a.createElement("div",{className:"input-group center-search",style:{justifyContent:"center",paddingBottom:"20px"}},s.a.createElement(B.a,{classNames:"search-width",placeholder:"Search question",onSearchClick:this.onSearchClicked})),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Question Title"),s.a.createElement("th",null,"Question"),s.a.createElement("th",null,"Answer Type"),s.a.createElement("th",null,"View/Edit..."),s.a.createElement("th",null,"Delete"))),s.a.createElement("tbody",null))))}}]),t}(s.a.Component),F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderTable=function(e){for(var t=[],n=function(n){t.push(s.a.createElement("tr",{key:e[n].surveyID+"-"+n},s.a.createElement("td",null,e[n].surveyID),s.a.createElement("td",null,e[n].surveyTitle),s.a.createElement("td",null,e[n].surveyDate),s.a.createElement("td",null,e[n].courseID),s.a.createElement("td",{id:e[n].surveyID+"-questionsLength"},e[n].questions.length),s.a.createElement("td",null,s.a.createElement("button",{id:e[n].surveyID+"-"+n+"-delete",onClick:a.props.menuOpen?null:function(){return a.confirmDeleteResponse(e[n].surveyID+"-"+n)}},s.a.createElement("span",{className:"fa fa-trash"})))))},r=0;r<e.length;r++)n(r);return t},a.sortByCourseID=function(){console.log("sortByCourseID")},a.sortByDate=function(){console.log("sortByDate")},a.sortBySurveyID=function(){console.log("sortBySurveyID")},a.sortByNumberOfQuestions=function(){console.log("sortByNumberOfQuestions")},a.sortBySurveyTitle=function(){console.log("sortBySurveyTitle")},a.state={surveys:a.props.surveys},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"searchSurveyTableMode",className:"padded-page"},s.a.createElement("h1",null),s.a.createElement("div",{className:"input-group center-search",style:{justifyContent:"center",paddingBottom:"20px"}},s.a.createElement("span",{className:"input-group-prepend"},s.a.createElement("div",{className:"input-group-text bg-transparent border-right-0"},s.a.createElement("i",{className:"fa fa-search"}))),s.a.createElement("input",{className:"form-control py-2 border-left-0 border",placeholder:"Search responses",type:"search",id:"searchSurveys"})),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("span",{id:"surveySearch-SurveyID",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortBySurveyID}),"\xa0Survey ID "),s.a.createElement("th",null,s.a.createElement("span",{id:"surveySearch-SurveyTitle",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortBySurveyTitle}),"\xa0Survey Title"),s.a.createElement("th",null,s.a.createElement("span",{id:"surveySearch-Date",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortByDate}),"\xa0Survey Creation Date"),s.a.createElement("th",null,s.a.createElement("span",{id:"surveySearch-CourseID",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortByCourseID}),"\xa0Course ID"),s.a.createElement("th",null,s.a.createElement("span",{id:"surveySearch-NumberOfQuestions",style:{cursor:"pointer"},className:"fa fa-sort",onClick:this.sortByNumberOfQuestions}),"\xa0Number of Questions"),s.a.createElement("th",null,"Delete"))),s.a.createElement("tbody",{id:"searchSurveyTableBody"},0===Object.keys(this.props.surveys).length?s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"No surveys created")):this.renderTable(this.state.surveys))))}}]),t}(s.a.Component),H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).setDeleteId=function(e){a.setState({deleteId:e})},a.setEditId=function(e){a.setState({editId:e})},a.saveQuestion=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var s,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="/questions/"+t,e.next=3,fetch(s,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 3:return r=e.sent,e.next=6,r.text();case 6:if(o=e.sent,200==r.status){e.next=14;break}return a.setState({errorMsg:o}),e.next=11,a.getQuestions();case 11:a.props.changeMode(E.SURVEY_MANAGEMENT_SEARCH),e.next=18;break;case 14:return a.setState({errorMsg:""}),e.next=17,a.getQuestions();case 17:a.props.refreshOnUpdate(E.SURVEY_MANAGEMENT_SEARCH);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.editQuestion=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var s,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="/questions/"+t+"/"+a.props.userObj.questions[a.state.editId]._id,e.next=3,fetch(s,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(n)});case 3:return r=e.sent,e.next=6,r.text();case 6:o=e.sent,200!=r.status?(alert("An error occurred when attempting to update the question to database: "+o),a.props.changeMode(E.SURVEY_MANAGEMENT_SEARCH)):(console.log("Question Updated!"),a.props.refreshOnUpdate(E.SURVEY_MANAGEMENT_SEARCH));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.deleteQuestion=Object(i.a)(c.a.mark((function e(){var t,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/questions/"+a.props.userObj.id+"/"+a.props.userObj.entries[a.state.deleteId]._id,e.next=3,fetch(t,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"});case 3:return n=e.sent,e.next=6,n.text();case 6:s=e.sent,200!=n.status?(alert("An error occurred when attempting to delete question in database: "+s),a.props.changeMode(E.SURVEY_MANAGEMENT_SEARCH)):a.props.refreshOnUpdate(E.SURVEY_MANAGEMENT_SEARCH);case 8:case"end":return e.stop()}}),e)}))),a.saveSurvey=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var s,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="/surveys/"+t,e.next=3,fetch(s,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 3:return r=e.sent,e.next=6,r.text();case 6:if(o=e.sent,200==r.status){e.next=14;break}return a.setState({errorMsg:o}),e.next=11,a.getQuestions();case 11:a.props.changeMode(E.SURVEY_MANAGEMENT_SEARCH_SURVEYS),e.next=18;break;case 14:return a.setState({errorMsg:""}),e.next=17,a.getQuestions();case 17:a.props.refreshOnUpdate(E.SURVEY_MANAGEMENT_SEARCH_SURVEYS);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.getQuestions=Object(i.a)(c.a.mark((function e(){var t,n,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],0==(t=a.props.userObj.courses.map((function(e){return e.courseID}))).length&&(t=[""]),e.next=5,fetch("/responses/"+a.props.userObj.id+"/"+JSON.stringify(t));case 5:if(200!=(n=e.sent).status){e.next=14;break}return e.next=9,n.json();case 9:n=e.sent,s=JSON.parse(n),r=function(e){if(0==e.length)return[];var t=[],a=[];return e.forEach((function(e){e.questions.forEach((function(n){a.push({questionID:n.questionID,surveyID:e.surveyID,responses:n.responses,survey:e,question:n}),n.responses.forEach((function(a){t.push({questionID:n.questionID,surveyID:e.surveyID,response:a,survey:e,question:n,responseType:a.students.length>1?"Group":"Individual"})}))}))})),[t,a]}(s),a.setState({surveys:s,questions:r[1],responses:r[0]});case 14:case"end":return e.stop()}}),e)}))),a.state={questions:[],responses:[],surveys:[],errorMsg:"",deleteId:"",editId:""},a.getQuestions(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){switch(this.props.mode){case E.SURVEY_MANAGEMENT:return s.a.createElement(s.a.Fragment,null,s.a.createElement(V,null));case E.SURVEY_MANAGEMENT_CREATE:return s.a.createElement(_,{userObj:this.props.userObj,surveys:this.state.surveys,mode:this.props.mode,changeMode:this.props.changeMode,saveQuestion:this.saveQuestion});case E.SURVEY_MANAGEMENT_EDIT:var e=Object(M.a)({},this.props.userObj.questions[this.state.editId]);return e.date=e.date.substr(0,10),s.a.createElement(_,{startData:e,surveys:this.state.surveys,mode:this.props.mode,changeMode:this.props.changeMode,saveQuestion:this.saveQuestion,editQuestion:this.editQuestion});case E.SURVEY_MANAGEMENT_CREATE_SURVEY:return s.a.createElement(q,{userObj:this.props.userObj,surveys:this.state.surveys,changeMode:this.props.changeMode,saveSurvey:this.saveSurvey});case E.SURVEY_MANAGEMENT_SEARCH:return s.a.createElement(z,{setEditId:this.setEditId,setDeleteId:this.setDeleteId,deleteQuestion:this.deleteQuestion});case E.SURVEY_MANAGEMENT_SEARCH_SURVEYS:return s.a.createElement(F,{surveys:this.state.surveys,getQuestions:this.getQuestions,menuOpen:this.props.menuOpen});case E.SURVEY_MANAGEMENT_RESPONSES:return s.a.createElement(G,{userObj:this.props.userObj,getQuestions:this.getQuestions,questions:this.state.questions,responses:this.state.responses,menuOpen:this.props.menuOpen})}}}]),t}(s.a.Component),J=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("center",null,s.a.createElement("h3",{className:"modal-title"},s.a.createElement("b",null,"Confirm Round Deletion"))),s.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.props.close},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Do you really want to delete this round?")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-danger",onClick:this.props.deleteRound},"Yes, Delete"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.props.close},"No, Cancel"))))}}]),t}(s.a.Component),K=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).editRound=function(t){e.props.setEditId(t),e.props.changeMode(E.ROUNDS_EDITROUND)},e.deleteRound=function(){e.props.deleteRound(),e.setState({showConfirmDelete:!1})},e.confirmDelete=function(t){e.props.setDeleteId(t),e.setState({showConfirmDelete:!0})},e.renderTable=function(){for(var t=[],a=function(a){t.push(s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.props.rounds[a].date.substring(0,10)),s.a.createElement("td",null,e.props.rounds[a].course),s.a.createElement("td",null,Number(e.props.rounds[a].strokes)+Number(e.props.rounds[a].minutes)+":"+(e.props.rounds[a].seconds<10?"0"+e.props.rounds[a].seconds:e.props.rounds[a].seconds)+" ("+e.props.rounds[a].strokes+" in "+e.props.rounds[a].minutes+":"+(e.props.rounds[a].seconds<10?"0"+e.props.rounds[a].seconds:e.props.rounds[a].seconds)+")"),s.a.createElement("td",null,s.a.createElement("button",{onClick:e.props.menuOpen?null:function(){return e.editRound(a)}},s.a.createElement("span",{className:"fa fa-eye"}))),s.a.createElement("td",null,s.a.createElement("button",{onClick:e.props.menuOpen?null:function(){return e.confirmDelete(a)}},s.a.createElement("span",{className:"fa fa-trash"})))))},n=0;n<e.props.rounds.length;++n)a(n);return t},e.state={showConfirmDelete:!1},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"padded-page"},s.a.createElement("h1",null),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Course"),s.a.createElement("th",null,"Score"),s.a.createElement("th",null,"View/Edit..."),s.a.createElement("th",null,"Delete"))),s.a.createElement("tbody",null,0===Object.keys(this.props.rounds).length?s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"No rounds logged")):this.renderTable())),this.state.showConfirmDelete?s.a.createElement(J,{close:function(){return e.setState({showConfirmDelete:!1})},deleteRound:this.deleteRound}):null)}}]),t}(s.a.Component),Z=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;if("seconds"===t){var n=e.target.value.length<2?"0"+e.target.value:e.target.value,s=a.computeSGS(a.state.strokes,a.state.minutes,n);a.setState({seconds:n,SGS:s})}else if("strokes"===t){var r=e.target.value,o=a.computeSGS(r,a.state.minutes,a.state.seconds);a.setState({strokes:r,SGS:o})}else if("minutes"===t){var l=e.target.value,c=a.computeSGS(a.state.strokes,l,a.state.seconds);a.setState({minutes:l,SGS:c})}else a.setState(Object(S.a)({},t,e.target.value))},a.handleSubmit=function(e){a.setState({faIcon:"fa fa-spin fa-spinner",btnLabel:a.props.mode===E.ROUNDS_LOGROUND?"Saving...":"Updating..."});var t=a.state;delete t.faIcon,delete t.btnLabel,setTimeout(a.props.saveRound,1e3,t),e.preventDefault()},a.computeSGS=function(e,t,a){return Number(e)+Number(t)+":"+a};var n=new Date(Date.now()-6e4*(new Date).getTimezoneOffset());if(a.props.mode===E.ROUNDS_LOGROUND)a.state={date:n.toISOString().substr(0,10),course:"",type:"practice",holes:"18",strokes:80,minutes:50,seconds:"00",notes:"",faIcon:"fa fa-save",btnLabel:"Save Round Data"};else{var s=Object(M.a)({},a.props.startData);delete s.id,s.faIcon="fa fa-edit",s.btnLabel="Update Round Data",a.state=s}return a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{className:"padded-page",onSubmit:this.handleSubmit},s.a.createElement("center",null,s.a.createElement("label",null,"Date:",s.a.createElement("input",{name:"date",className:"form-control form-center",type:"date",value:this.state.date,onChange:this.handleChange})),s.a.createElement("p",null),s.a.createElement("label",null,"Course:",s.a.createElement("input",{name:"course",className:"form-control form-center",type:"text",value:this.state.course,onChange:this.handleChange,placeholder:"Course played",size:"50",maxLength:"50"})),s.a.createElement("p",null),s.a.createElement("label",null,"Type:",s.a.createElement("select",{name:"type",value:this.state.type,className:"form-control form-center",onChange:this.handleChange},s.a.createElement("option",{value:"practice"},"Practice"),s.a.createElement("option",{value:"tournament"},"Tournament"))),s.a.createElement("p",null),s.a.createElement("label",null,"# Holes:",s.a.createElement("select",{name:"holes",value:this.state.holes,className:"form-control form-center",onChange:this.handleChange},s.a.createElement("option",{value:"9"},"9"),s.a.createElement("option",{value:"18"},"18"))),s.a.createElement("p",null),s.a.createElement("label",null,"# Strokes:",s.a.createElement("input",{name:"strokes",className:"form-control form-center",type:"number",min:"9",max:"200",value:this.state.strokes,onChange:this.handleChange})),s.a.createElement("p",null),s.a.createElement("label",null,"Time: ",s.a.createElement("br",null),s.a.createElement("input",{name:"minutes",type:"number",size:"3",min:"10",max:"400",value:this.state.minutes,onChange:this.handleChange}),":",s.a.createElement("input",{name:"seconds",type:"number",size:"2",min:"0",max:"60",value:this.state.seconds,onChange:this.handleChange})),s.a.createElement("p",null),s.a.createElement("label",null,"Speedgolf Score: ",s.a.createElement("br",null),s.a.createElement("input",{name:"SGS",className:"form-center",type:"text",size:"6",disabled:!0,value:this.computeSGS(this.state.strokes,this.state.minutes,this.state.seconds)})),s.a.createElement("p",null),s.a.createElement("label",null,"Notes:",s.a.createElement("textarea",{name:"notes",className:"form-control",rows:"6",cols:"75",placeholder:"Enter round notes",value:this.state.notes,onChange:this.handleChange})),s.a.createElement("p",null),s.a.createElement("p",null),s.a.createElement("button",{type:"submit",style:{width:"70%",fontSize:"36px"},className:"btn btn-primary btn-color-theme"},s.a.createElement("span",{className:this.state.faIcon}),"\xa0",this.state.btnLabel)))}}]),t}(s.a.Component),W=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.upload?"floatbtn-upload":"floatbtn",onClick:this.props.handleClick},s.a.createElement("span",{className:this.props.upload?"floatbtn-icon fa fa-upload":"floatbtn-icon fa fa-plus"}))}}]),t}(s.a.Component),$=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).addRound=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/rounds/"+e.props.userObj.id,t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 3:return s=t.sent,t.next=6,s.text();case 6:r=t.sent,200!=s.status?(e.setState({errorMsg:r}),e.props.changeMode(E.ROUNDS)):(e.setState({errorMsg:""}),e.props.refreshOnUpdate(E.ROUNDS));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editRound=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/rounds/"+e.props.userObj.id+"/"+e.props.userObj.rounds[e.editId]._id,t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(a)});case 3:return s=t.sent,t.next=6,s.text();case 6:r=t.sent,200!=s.status?(e.setState({errorMsg:r}),e.props.changeMode(E.ROUNDS)):e.props.refreshOnUpdate(E.ROUNDS);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteRound=Object(i.a)(c.a.mark((function t(){var a,n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/rounds/"+e.props.userObj.id+"/"+e.props.userObj.rounds[e.deleteId]._id,t.next=3,fetch(a,{method:"DELETE"});case 3:return n=t.sent,t.next=6,n.text();case 6:s=t.sent,200!=n.status?(e.setState({errorMsg:"An error occurred when attempting to delete round from database: "+s}),e.props.changeMode(E.ROUNDS)):e.props.refreshOnUpdate(E.ROUNDS);case 8:case"end":return t.stop()}}),t)}))),e.setDeleteId=function(t){e.deleteId=t,e.setState({errorMsg:""})},e.setEditId=function(t){e.editId=t,e.setState({errorMsg:""})},e.closeErrorMsg=function(){e.setState({errorMsg:""})},e.deleteId="",e.editId="",e.state={errorMsg:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;switch(this.props.mode){case E.ROUNDS:return s.a.createElement(s.a.Fragment,null,""!=this.state.errorMsg?s.a.createElement("div",{className:"status-msg"},s.a.createElement("span",null,this.state.errorMsg),s.a.createElement("button",{className:"modal-close",onClick:this.closeErrorMsg},s.a.createElement("span",{className:"fa fa-times"}))):null,s.a.createElement(K,{rounds:this.props.userObj.rounds,setEditId:this.setEditId,setDeleteId:this.setDeleteId,deleteRound:this.deleteRound,changeMode:this.props.changeMode,menuOpen:this.props.menuOpen}),s.a.createElement(W,{handleClick:function(){return e.props.changeMode(E.ROUNDS_LOGROUND)},menuOpen:this.props.menuOpen,icon:"fa fa-plus"}));case E.ROUNDS_LOGROUND:return s.a.createElement(Z,{mode:this.props.mode,startData:"",saveRound:this.addRound});case E.ROUNDS_EDITROUND:var t=Object(M.a)({},this.props.userObj.rounds[this.editId]);return t.date=t.date.substr(0,10),t.seconds<10&&(t.seconds="0"+t.seconds),delete t.SGS,s.a.createElement(Z,{mode:this.props.mode,startData:t,saveRound:this.editRound})}}}]),t}(s.a.Component),X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).editStudent=function(e){console.log("Editing student: "+e)},a.deleteStudent=function(e){console.log("Deleting student: "+e)},a.renderTable=function(){var e=[],t=function(t){e.push(s.a.createElement("tr",{key:t},s.a.createElement("td",null,a.props.students[t].userID),s.a.createElement("td",null,a.props.students[t].studentDisplayName),"Instructor"===a.props.userType?s.a.createElement("div",{className:"instructor-buttons"},s.a.createElement("td",null,s.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.editStudent(a.props.students[t].userID)}},s.a.createElement("span",{className:"fa fa-pencil-square-o"}))),s.a.createElement("td",null,s.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.deleteStudent(a.props.students[t].userID)}},s.a.createElement("span",{className:"fa fa-trash-o"})))):null))};for(var n in a.props.students)t(n);return e},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"padded-page"},s.a.createElement("h1",null),s.a.createElement("table",{id:"StudentsTable",className:"table table-hover"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"ID"),"Instructor"===this.props.userType?s.a.createElement("div",{className:"instructor-buttons"},s.a.createElement("th",null,"Edit"),s.a.createElement("th",null,"Delete")):null)),s.a.createElement("tbody",null,0===Object.keys(this.props.students).length?s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"There aren't any students in this course")):this.renderTable())))}}]),t}(s.a.Component),ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleCloseModal=function(e){e.preventDefault(),a.props.changeMode(E.COURSES)},a.handleDelete=function(e){e.preventDefault(),a.props.deleteCourse(a.props.courseId)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},s.a.createElement("div",{id:"ConfirmCourseDeleteModal",className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("center",null,s.a.createElement("h3",{className:"modal-title"},s.a.createElement("b",null,"Are you sure you'd like to delete ",this.props.courseName,"?"))),s.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.handleCloseModal},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{onSubmit:this.handleDelete},s.a.createElement("button",{role:"submit",className:"btn btn-primary"},"Confirm"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleCloseModal},"Cancel"),s.a.createElement("br",null)))))}}]),t}(s.a.Component),te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleCloseModal=function(e){e.preventDefault(),a.props.changeMode(E.COURSES)},a.handleEditSubmit=function(e){e.preventDefault();var t={courseInstructorFirstName:a.state.instructorFirstName,courseInstructorLastName:a.state.instructorLastName,courseInstructorID:a.props.instructorId,courseName:a.state.name,courseNumber:a.state.number,courseYear:a.state.year,courseSemester:a.state.semester,courseEnrollmentLimit:a.state.enrollmentLimit,courseCurrentlyEnrolled:a.state.currentlyEnrolled,courseID:a.state.id,courseNotes:a.state.notes};a.props.editCourse(t),a.props.changeMode(E.COURSES)},a.handleChange=function(e){var t=e.target.name;if("number"===t||"semester"===t||"year"===t){var n=a.numberRef.current.value+a.semesterRef.current.value+a.yearRef.current.value;a.setState({id:n})}a.setState(Object(S.a)({},t,e.target.value))},a.numberRef=s.a.createRef(),a.semesterRef=s.a.createRef(),a.yearRef=s.a.createRef(),a.state={name:"",number:"",id:"",semester:"",year:"",instructorFirstName:"",instructorLastName:"",enrollmentLimit:"",currentlyEnrolled:"",notes:""},a.componentDidMount=a.componentDidMount.bind(Object(O.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/courses/"+this.props.userId,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,s=JSON.parse(n),r=(r=s.filter(function(e){return e.courseID===this.props.courseId}.bind(this)))[0],this.setState({instructorFirstName:r.courseInstructorFirstName,instructorLastName:r.courseInstructorLastName,name:r.courseName,number:r.courseNumber,year:r.courseYear,semester:r.courseSemester,enrollmentLimit:r.courseEnrollmentLimit,currentlyEnrolled:r.courseCurrentlyEnrolled,id:r.courseID,notes:r.courseNotes});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},s.a.createElement("div",{id:"AddCourseModal",className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("center",null,s.a.createElement("h3",{className:"modal-title"},s.a.createElement("b",null,"Edit ",this.props.courseName))),s.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.handleCloseModal},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{onSubmit:this.handleEditSubmit},s.a.createElement("label",null,"Course Name:",s.a.createElement("br",null),s.a.createElement("input",{name:"name",className:"form-control form-center",type:"text",value:this.state.name,onChange:this.handleChange,placeholder:"Course name",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Course Number:",s.a.createElement("br",null),s.a.createElement("input",{name:"number",className:"form-control form-center",type:"text",value:this.state.number,onChange:this.handleChange,ref:this.numberRef,placeholder:"Course number",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Term:",s.a.createElement("br",null),s.a.createElement("input",{name:"semester",className:"form-control form-center",type:"text",value:this.state.semester,onChange:this.handleChange,ref:this.semesterRef,placeholder:"Current term",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Year:",s.a.createElement("br",null),s.a.createElement("input",{name:"year",className:"form-control form-center",type:"text",value:this.state.year,onChange:this.handleChange,ref:this.yearRef,placeholder:"Current year",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Instructor First Name:",s.a.createElement("br",null),s.a.createElement("input",{name:"instructorFirstName",className:"form-control form-center",type:"text",value:this.state.instructorFirstName,onChange:this.handleChange,placeholder:"First name",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Instructor Last Name:",s.a.createElement("br",null),s.a.createElement("input",{name:"instructorLastName",className:"form-control form-center",type:"text",value:this.state.instructorLastName,onChange:this.handleChange,placeholder:"Last name",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Enrollment Limit:",s.a.createElement("br",null),s.a.createElement("input",{name:"enrollmentLimit",className:"form-control form-center",type:"text",value:this.state.enrollmentLimit,onChange:this.handleChange,placeholder:"Enrollment limit",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Notes:",s.a.createElement("textarea",{name:"notes",className:"form-control",rows:"6",cols:"75",placeholder:"Enter course notes",value:this.state.notes,onChange:this.handleChange})),s.a.createElement("p",null),s.a.createElement("p",null),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{role:"submit",className:"btn btn-primary"},"Edit"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleCloseModal},"Cancel")),s.a.createElement("br",null)))))}}]),t}(s.a.Component),ae=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).viewStudents=function(e,t){console.log("Opening students for courseId: "+e),a.props.changeCourse(e,t),a.props.changeMode(E.STUDENTS)},a.handleEditCourse=function(e,t){console.log("Editing "+e),a.setState({courseId:e,courseName:t}),a.props.changeMode(E.COURSES_EDIT)},a.handleDeleteCourse=function(e,t){console.log("Deleting "+e),a.setState({courseId:e,courseName:t}),a.props.changeMode(E.COURSES_DELETE)},a.deleteCourse=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/courses/"+a.props.userId+"/"+t,e.next=3,fetch(n,{method:"DELETE"});case 3:if(200!=(s=e.sent).status){e.next=8;break}console.log("Successfully deleted course"),e.next=12;break;case 8:return e.next=10,s.text();case 10:r=e.sent,console.log("Course deletion failed with error: "+r);case 12:a.props.changeMode(E.COURSES);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.editCourse=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n="/courses/"+a.props.userId+"/"+a.state.courseId,e.next=4,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)});case 4:return s=e.sent,e.next=7,s.text();case 7:e.sent,200!=s.status?console.log("Course successfully updated"):console.log("Error occurred while updating course");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderTable=function(){var e=[],t=function(t){e.push(s.a.createElement("tr",{key:t},s.a.createElement("td",null,a.props.courses[t].courseName),s.a.createElement("td",null,a.props.courses[t].courseYear),s.a.createElement("td",null,a.props.courses[t].courseSemester),s.a.createElement("td",null,a.props.courses[t].courseInstructorFirstName+" "+a.props.courses[t].courseInstructorLastName),s.a.createElement("td",null,s.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.viewStudents(a.props.courses[t].courseID,a.props.courses[t].courseName)}},s.a.createElement("span",{id:"studentView",className:"fa fa-users"}))),"Instructor"===a.props.userType?s.a.createElement("div",{className:"instructor-buttons"},s.a.createElement("td",null,s.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.handleEditCourse(a.props.courses[t].courseID,a.props.courses[t].courseName)}},s.a.createElement("span",{className:"fa fa-pencil-square-o"}))),s.a.createElement("td",null,s.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.handleDeleteCourse(a.props.courses[t].courseID,a.props.courses[t].courseName)}},s.a.createElement("span",{className:"fa fa-trash-o"})))):null))};for(var n in a.props.courses)t(n);return e},a.state={courseId:"",courseName:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"padded-page"},s.a.createElement("h1",null),s.a.createElement("table",{id:"CoursesTable",className:"table table-hover"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Course Name"),s.a.createElement("th",null,"Year"),s.a.createElement("th",null,"Semester"),s.a.createElement("th",null,"Instructor Name"),s.a.createElement("th",null,"View Students"),"Instructor"===this.props.userType?s.a.createElement("div",{className:"instructor-buttons"},s.a.createElement("th",null,"Edit"),s.a.createElement("th",null,"Delete")):null)),s.a.createElement("tbody",null,0===Object.keys(this.props.courses).length?s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"You don't have any courses")):this.renderTable())),this.props.mode===E.COURSES_DELETE?s.a.createElement(ee,{changeMode:this.props.changeMode,deleteCourse:this.deleteCourse,courseId:this.state.courseId,courseName:this.state.courseName}):null,this.props.mode===E.COURSES_EDIT?s.a.createElement(te,{changeMode:this.props.changeMode,editCourse:this.editCourse,courseName:this.state.courseName,courseId:this.state.courseId,userId:this.props.userId}):null)}}]),t}(s.a.Component),ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleCloseModal=function(e){e.preventDefault(),a.props.changeMode(E.STUDENTS)},a.handleFile=function(e){window.FileReader&&a.getAsText(a.rosterRef.current.files[0])},a.handleUploadSubmit=function(e){e.preventDefault(),a.props.uploadStudents(a.state.roster),a.props.changeMode(E.STUDENTS)},a.rosterRef=s.a.createRef(),a.fileReadingFinished=a.fileReadingFinished.bind(Object(O.a)(a)),a.state={roster:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getAsText",value:function(e){var t=new FileReader;t.readAsText(e),t.onload=this.fileReadingFinished,t.onerror=this.errorHandler}},{key:"fileReadingFinished",value:function(e){var t=e.target.result.split(/\r\n|\n/),a=(t=t.filter((function(e){return"userID,displayName"!==e&&""!==e}))).map((function(e){return e.split(";")}));a=a.map((function(e,t){return e=e[0].split(",")})),this.setState({roster:a})}},{key:"errorHandler",value:function(e){"NotReadableError"===e.target.error.name&&alert("Cannot read file!")}},{key:"render",value:function(){return s.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},s.a.createElement("div",{id:"UploadStudentsModal",className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("center",null,s.a.createElement("h3",{className:"modal-title"},s.a.createElement("b",null,"Upload Students"))),s.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.handleCloseModal},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Add multiple students to this course at once by using uploading a class roster CSV file. Each student entry needs a userID and DisplayName column.",s.a.createElement("br",null)),s.a.createElement("form",{onSubmit:this.handleUploadSubmit},s.a.createElement("label",null,"Select a Roster File:",s.a.createElement("br",null),s.a.createElement("input",{className:"form-control form-text form-center",name:"roster",type:"file",accept:".csv",required:!0,ref:this.rosterRef,value:this.state.rosterFileName,onChange:this.handleFile})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{role:"submit",className:"btn btn-primary"},"Upload"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleCloseModal},"Cancel")),s.a.createElement("br",null)))))}}]),t}(s.a.Component),se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleCloseModal=function(e){e.preventDefault(),a.props.changeMode(E.COURSES)},a.handleCreateSubmit=function(e){e.preventDefault();var t={courseInstructorFirstName:a.state.instructorFirstName,courseInstructorLastName:a.state.instructorLastName,courseInstructorID:a.props.instructorId,courseName:a.state.name,courseNumber:a.state.number,courseYear:a.state.year,courseSemester:a.state.semester,courseEnrollmentLimit:a.state.enrollmentLimit,courseCurrentlyEnrolled:"0",courseID:a.state.id,courseNotes:a.state.notes};a.props.addCourse(t),a.props.changeMode(E.COURSES)},a.handleChange=function(e){var t=e.target.name;if("number"===t||"semester"===t||"year"===t){var n=a.numberRef.current.value+a.semesterRef.current.value+a.yearRef.current.value;a.setState({id:n})}a.setState(Object(S.a)({},t,e.target.value))},a.numberRef=s.a.createRef(),a.semesterRef=s.a.createRef(),a.yearRef=s.a.createRef(),a.state={name:"",number:"",id:"",semester:"",year:"",instructorFirstName:"",instructorLastName:"",enrollmentLimit:"",notes:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},s.a.createElement("div",{id:"AddCourseModal",className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("center",null,s.a.createElement("h3",{className:"modal-title"},s.a.createElement("b",null,"Create a Course"))),s.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.handleCloseModal},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Create a new course to send surveys to. After you have created a course, you can add students to it.",s.a.createElement("br",null)),s.a.createElement("form",{onSubmit:this.handleCreateSubmit},s.a.createElement("label",null,"Course Name:",s.a.createElement("br",null),s.a.createElement("input",{name:"name",id:"courseName",className:"form-control form-center",type:"text",value:this.state.name,onChange:this.handleChange,placeholder:"Course name",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Course Number:",s.a.createElement("br",null),s.a.createElement("input",{name:"number",id:"courseNumber",className:"form-control form-center",type:"text",value:this.state.number,onChange:this.handleChange,ref:this.numberRef,placeholder:"Course number",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Term:",s.a.createElement("br",null),s.a.createElement("input",{name:"semester",id:"courseSemester",className:"form-control form-center",type:"text",value:this.state.semester,onChange:this.handleChange,ref:this.semesterRef,placeholder:"Current term",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Year:",s.a.createElement("br",null),s.a.createElement("input",{name:"year",id:"courseYear",className:"form-control form-center",type:"text",value:this.state.year,onChange:this.handleChange,ref:this.yearRef,placeholder:"Current year",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Instructor First Name:",s.a.createElement("br",null),s.a.createElement("input",{name:"instructorFirstName",id:"courseFirstName",className:"form-control form-center",type:"text",value:this.state.instructorFirstName,onChange:this.handleChange,placeholder:"First name",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Instructor Last Name:",s.a.createElement("br",null),s.a.createElement("input",{name:"instructorLastName",id:"courseLastName",className:"form-control form-center",type:"text",value:this.state.instructorLastName,onChange:this.handleChange,placeholder:"Last name",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Enrollment Limit:",s.a.createElement("br",null),s.a.createElement("input",{name:"enrollmentLimit",id:"courseEnrollmentLimit",className:"form-control form-center",type:"text",value:this.state.enrollmentLimit,onChange:this.handleChange,placeholder:"Enrollment limit",size:"50",maxLength:"50",required:!0})),s.a.createElement("p",null),s.a.createElement("label",null,"Notes:",s.a.createElement("textarea",{name:"notes",id:"courseNotes",className:"form-control",rows:"6",cols:"75",placeholder:"Enter course notes",value:this.state.notes,onChange:this.handleChange})),s.a.createElement("p",null),s.a.createElement("p",null),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{role:"submit",id:"saveCourse",className:"btn btn-primary"},"Create"),s.a.createElement("button",{id:"cancelCourse",className:"btn btn-secondary",onClick:this.handleCloseModal},"Cancel")),s.a.createElement("br",null)))))}}]),t}(s.a.Component),re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChangeMode=function(e){a.setState({mode:e})},a.handleChangeCourse=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var s,r,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({courseId:t,courseName:n}),s="/students/"+t,e.next=4,fetch(s,{method:"GET"});case 4:if(200==(r=e.sent).status){e.next=11;break}return e.next=8,r.text();case 8:return o=e.sent,console.log("There was an error obtaining students in this course: "+o),e.abrupt("return");case 11:return e.next=13,r.json();case 13:l=e.sent,l=JSON.parse(l),console.log("in componentDidMount with GET results: "+l),a.setState({students:l});case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleAddCourse=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.changeMode(E.COURSES_CREATE);case 1:case"end":return e.stop()}}),e)}))),a.handleAddStudent=function(){console.log("Adding a student"),a.props.changeMode(E.STUDENTS_CREATE)},a.handleUploadStudents=function(){a.props.changeMode(E.STUDENTS_UPLOAD)},a.uploadStudents=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,s,r,o,l,i,u,m,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,s=!1,r=void 0,e.prev=3,o=t[Symbol.iterator]();case 5:if(n=(l=o.next()).done){e.next=19;break}return i=l.value,u={userID:i[0],studentDisplayName:i[1]},m="/students/"+a.state.courseId,e.next=11,fetch(m,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(u)});case 11:return d=e.sent,e.next=14,d.text();case 14:e.sent,200!=d.status?console.log("Successfully added students"):console.log("Error adding students");case 16:n=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),s=!0,r=e.t0;case 25:e.prev=25,e.prev=26,n||null==o.return||o.return();case 28:if(e.prev=28,!s){e.next=31;break}throw r;case 31:return e.finish(28);case 32:return e.finish(25);case 33:a.handleChangeCourse(a.state.courseId,a.state.courseName);case 34:case"end":return e.stop()}}),e,null,[[3,21,25,33],[26,,28,32]])})));return function(t){return e.apply(this,arguments)}}(),a.addStudent=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Adding a student for course: "+a.state.courseId);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addCourse=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Creating a new course: "+t),n="/courses/"+a.props.userObj.id,e.next=4,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 4:return s=e.sent,e.next=7,s.text();case 7:e.sent,200!=s.status?console.log("Successfully added course"):console.log("Error adding course");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={courseId:"",courseName:"",students:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"padded-page"},s.a.createElement("center",null,s.a.createElement("h1",null,this.props.mode===E.COURSES||this.props.mode===E.COURSES_DELETE||this.props.mode===E.COURSES_EDIT||this.props.mode===E.COURSES_CREATE?"Courses":"Students in "+this.state.courseName),this.props.mode===E.COURSES||this.props.mode===E.COURSES_DELETE||this.props.mode===E.COURSES_EDIT||this.props.mode===E.COURSES_CREATE?s.a.createElement(ae,{courses:this.props.userObj.courses,userType:this.props.userObj.userType,menuOpen:this.props.menuOpen,changeMode:this.props.changeMode,mode:this.props.mode,userId:this.props.userObj.id,changeCourse:this.handleChangeCourse}):s.a.createElement(X,{students:this.state.students,userType:this.props.userObj.userType,menuOpen:this.props.menuOpen,changeMode:this.props.changeMode})),"Instructor"===this.props.userObj.userType&&this.props.mode===E.STUDENTS?s.a.createElement("div",{className:"floatingbtn-container"},s.a.createElement(W,{id:"AddStudentBtn",handleClick:this.handleAddStudent}),s.a.createElement(W,{id:"UploadStudentsBtn",handleClick:this.handleUploadStudents,upload:!0})):null,"Instructor"===this.props.userObj.userType&&this.props.mode===E.COURSES?s.a.createElement(W,{id:"AddCourseBtn",handleClick:this.handleAddCourse}):null,this.props.mode===E.STUDENTS_UPLOAD?s.a.createElement(ne,{uploadStudents:this.uploadStudents,changeMode:this.props.changeMode}):null,this.props.mode===E.COURSES_CREATE?s.a.createElement(se,{changeMode:this.props.changeMode,addCourse:this.addCourse,instructorId:this.props.userObj.id}):null)}}]),t}(s.a.Component),oe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal",role:"dialog"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",null,"About SpeedScore"),s.a.createElement("button",{className:"modal-close",onClick:this.props.close},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("img",{src:"https://dl.dropboxusercontent.com/s/awuwr1vpuw1lkyl/SpeedScore4SplashLogo.png",height:"200",width:"200"}),s.a.createElement("h3",null,"The World's First and Only Suite of Apps for Speedgolf"),s.a.createElement("p",null,"Version CptS 489 Fa20 Complete (MERN)",s.a.createElement("br",null),"\xa9 2017-20 The Professor of Speedgolf. All rights reserved."),s.a.createElement("div",{style:{textAlign:"left"}},s.a.createElement("p",null,"SpeedScore apps support"),s.a.createElement("ul",null,s.a.createElement("li",null,"live touranment scoring (",s.a.createElement("i",null,"SpeedScore Live\xae"),")"),s.a.createElement("li",null,"tracking personal speedgolf rounds and sharing results (",s.a.createElement("i",null,"SpeedScore Track\xae"),")"),s.a.createElement("li",null,"finding speedgolf-friendly courses, booking tee times, and paying to play speedgolf by the minute (",s.a.createElement("i",null,"SpeedScore Play\xae"),")")),s.a.createElement("p",null,"SpeedScore was first developed by Dr. Chris Hundhausen, associate professor of computer science at Washington State University and the ",s.a.createElement("i",null,"Professor of Speedgolf"),", with support from Scott Dawley, CEO of Speedgolf USA, LLC."),s.a.createElement("p",null,"For more information on SpeedScore, visit ",s.a.createElement("a",{href:"http://speedscore.live",target:"_blank"},"SpeedScore's web site"),". For more information on speedgolf, visit ",s.a.createElement("a",{href:"http://playspeedgolf.com",target:"_blank"},"playspeedgolf.com")," and ",s.a.createElement("a",{href:"http://usaspeedgolf.com",target:"_blank"},"Speedgolf USA"),"."))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-primary btn-color-theme",onClick:this.props.close},"OK")))))}}]),t}(s.a.Component),le={};le[E.LOGIN]="Welcome to Kliks",le[E.SURVEY_MANAGEMENT]="Survey Management",le[E.ROUNDS]="My Rounds",le[E.ROUNDS_LOGROUND]="Log New Round",le[E.ROUNDS_EDITROUND]="Edit Round",le[E.COURSES]="Courses",le[E.COURSES_CREATE]="Add Course",le[E.COURSES_DELETE]="Delete Course",le[E.COURSES_EDIT]="Edit Course",le[E.STUDENTS]="Students",le[E.STUDENTS_CREATE]="Add a Student",le[E.STUDENTS_UPLOAD]="Students";var ce={};ce[E.LOGIN]=T,ce[E.SURVEY_MANAGEMENT]=H,ce[E.SURVEY_MANAGEMENT_RESPONSES]=H,ce[E.SURVEY_MANAGEMENT_CREATE]=H,ce[E.SURVEY_MANAGEMENT_EDIT]=H,ce[E.SURVEY_MANAGEMENT_CREATE_SURVEY]=H,ce[E.SURVEY_MANAGEMENT_SEARCH]=H,ce[E.SURVEY_MANAGEMENT_SEARCH_SURVEYS]=H,ce[E.ROUNDS]=$,ce[E.ROUNDS_LOGROUND]=$,ce[E.ROUNDS_EDITROUND]=$,ce[E.COURSES]=re,ce[E.COURSES_CREATE]=re,ce[E.COURSES_DELETE]=re,ce[E.COURSES_EDIT]=re,ce[E.STUDENTS]=re,ce[E.STUDENTS_CREATE]=re,ce[E.STUDENTS_UPLOAD]=re;var ie=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).refreshOnUpdate=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/users/"+e.state.userObj.id);case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,s=JSON.parse(n),e.setState({userObj:s,mode:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChangeMode=function(t){e.setState({mode:t})},e.openMenu=function(){e.setState({menuOpen:!0})},e.closeMenu=function(){e.setState({menuOpen:!1})},e.toggleMenuOpen=function(){e.setState((function(e){return{menuOpen:!e.menuOpen}}))},e.setUserId=function(t){e.setState({userId:t,authenticated:!0})},e.showEditAccount=function(){e.setState({showEditAccountDialog:!0})},e.cancelEditAccount=function(){e.setState({showEditAccountDialog:!1})},e.editAccountDone=function(t,a){a?e.setState({showEditAccountDialog:!1,statusMsg:t,mode:E.LOGIN}):e.setState({showEditAccountDialog:!1,statusMsg:t})},e.closeStatusMsg=function(){e.setState({statusMsg:""})},e.state={mode:E.LOGIN,menuOpen:!1,authenticated:!1,userObj:{displayName:"",profilePicURL:""},editAccount:!1,showEditAccountDialog:!1,statusMsg:"",showAboutDialog:!1},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.authenticated||fetch("/auth/test").then((function(e){return e.json()})).then((function(t){t.isAuthenticated&&e.setState({userObj:t.user,authenticated:!0,mode:E.SURVEY_MANAGEMENT})}))}},{key:"render",value:function(){var e=this,t=ce[this.state.mode];return s.a.createElement("div",{className:"padded-page"},this.state.showAboutDialog?s.a.createElement(oe,{close:function(){return e.setState({showAboutDialog:!1})}}):null,""!=this.state.statusMsg?s.a.createElement("div",{className:"status-msg"},s.a.createElement("span",null,this.state.statusMsg),s.a.createElement("button",{className:"modal-close",onClick:this.closeStatusMsg},s.a.createElement("span",{className:"fa fa-times"}))):null,this.state.showEditAccountDialog?s.a.createElement(R,{create:!1,userId:this.state.userObj.id,done:this.editAccountDone,cancel:this.cancelEditAccount}):null,s.a.createElement(y,{title:le[this.state.mode],mode:this.state.mode,changeMode:this.handleChangeMode,menuOpen:this.state.menuOpen,toggleMenuOpen:this.toggleMenuOpen}),s.a.createElement(g,{menuOpen:this.state.menuOpen,mode:this.state.mode,toggleMenuOpen:this.toggleMenuOpen,displayName:this.state.userObj.displayName,profilePicURL:this.state.userObj.profilePicURL,localAccount:"local"===this.state.userObj.authStrategy,editAccount:this.showEditAccount,logOut:function(){return e.handleChangeMode(E.LOGIN)},changeMode:this.handleChangeMode,showAbout:function(){e.setState({showAboutDialog:!0})},userType:this.state.userObj.userType}),s.a.createElement(N,{mode:this.state.mode,changeMode:this.handleChangeMode,menuOpen:this.state.menuOpen}),s.a.createElement(t,{menuOpen:this.state.menuOpen,mode:this.state.mode,changeMode:this.handleChangeMode,userObj:this.state.userObj,refreshOnUpdate:this.refreshOnUpdate}))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.a8576b9e.chunk.js.map